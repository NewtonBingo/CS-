## 数据库原理

数据库（Database）是指一个有组织的数据集合，用于存储、管理和处理数据。通俗地说，数据库就是一个存储数据的仓库，可以对其中的数据进行添加、修改、查询、删除等操作。
- 数据库的概念：数据库是一个有组织的数据集合，用于存储、管理和处理数据。
- 数据库模型：数据库模型是描述数据组织和存储方式的方法，包括关系模型、层次模型、网状模型等。
- 数据库设计：数据库设计是根据需求设计和构建数据库的过程，包括概念设计、逻辑设计和物理设计。
``` bash  
*1.第一范式（1NF）：数据表中的每一列都应该是原子性的，不可再分。即每个属性都不可再拆分成其他属性。*  
*2.第二范式（2NF）：满足1NF，且表中的非主键属性必须完全依赖于主键，而不能只依赖于主键的一部分。即每个非主键属性都必须与主键完全相关。*  
*3.第三范式（3NF）：满足2NF，且表中的非主键属性不能依赖于其他非主键属性。即任何一个非主键属性不能由其他非主键属性推导出来。*  
*4.巴斯-科德范式（BCNF）：满足3NF，且表中的每个依赖关系都是由候选键决定的。即表中的每个属性都必须与候选键相关，不能只依赖于候选键的一部分。*  
*5.第四范式（4NF）：满足BCNF，且表中不存在多余的多对多关系。即不存在任何两个多值依赖于同一个非主属性的情况。*
```
- 关系数据库理论：关系数据库理论是描述关系数据库的基本概念、关系代数、范式等理论。
- SQL语言：SQL（Structured Query Language）是用于关系数据库中数据查询、更新、管理的标准语言。
- 数据库管理系统：数据库管理系统（DBMS）是用于管理数据库的软件系统，包括MySQL、Oracle、SQL Server等。
- 数据库安全性：数据库安全性是保护数据库的机密性、完整性和可用性，包括用户认证、访问控制、数据加密等方面。
- 数据库性能：数据库性能是指数据库在处理用户请求时的效率和响应速度，包括查询优化、索引设计、并发控制等方面。
- 数据库备份与恢复：数据库备份与恢复是为了防止数据丢失，采用数据备份和数据恢复策略。
- 数据库应用：数据库应用包括企业资源管理、客户关系管理、人力资源管理、物流管理、电子商务等方面。

## 关系型数据库
关系数据库（Relational Database）是指一种基于关系模型的数据库，通过表格（也称为关系）来组织和存储数据。在关系数据库中，每个表都有一个唯一的表名，而每个表由多个列（也称为字段）组成，每个列定义了一个数据类型。每行（也称为记录）则表示一个实例，也就是一条记录。
### MySQL
MySQL是一种开放源代码的关系型数据库管理系统DBMS。
![image](https://user-images.githubusercontent.com/107925483/230532277-f6aa8536-d3a5-4b1f-ad4f-6fff30543201.png)
MySQL的架构可以分为三个层次：客户端、服务端和存储引擎。  
- 客户端层：MySQL客户端层包括连接器、查询缓存和分析器等组件。其中连接器负责建立和维护客户端与服务端之间的连接；查询缓存负责缓存查询结果，提高查询速度；分析器负责解析SQL语句，并生成查询执行计划。
- 服务端层：MySQL服务端层包括了查询优化器、执行器和存储引擎API等组件。其中查询优化器负责分析查询执行计划，选择最优的查询方案；执行器负责执行查询语句，并将结果返回给客户端；存储引擎API负责管理数据的存储和访问。
- 存储引擎层：MySQL支持多种不同的存储引擎，如InnoDB、MyISAM、Memory等。每种存储引擎都有不同的特点和优劣，可以根据实际应用场景进行选择。存储引擎负责实现数据的存储、索引、更新和查询等操作。MySQL的存储引擎层可以被看作是MySQL的插件式存储引擎架构的一个实现。

#### SQL语句执行流程
![image](https://user-images.githubusercontent.com/107925483/230532861-7d1d36ea-ad19-415f-8229-5c92188d68f3.png)
#### MySQL的存储引擎对比
存储引擎是MySQL的组件，用于处理不同表类型的SQL操作。不同的存储引擎提供不同的存储机制、索引技巧、锁定水平等功能，使用不同的存储引擎，还可以获得特定的功能。
使用哪一种引擎可以灵活选择，一个数据库中多个表可以使用不同引擎以满足各种性能和实际需求，使用合适的存储引擎，将会提高整个数据库的性能 。MySQL 中采用的是插件式存储引擎架构。
常见的存储引擎就 InnoDB、MyISAM、Memory、NDB。
##### InnoDB(默认) vs MyISAM
- InnoDB 支持事务，MyISAM 不支持事务。这是 MySQL 将默认存储引擎从 MyISAM 变成 InnoDB 的重要原因之一；
- InnoDB 支持外键，而 MyISAM 不支持。对一个包含外键的 InnoDB 表转为 MYISAM 会失败；
- InnoDB 是聚簇索引，MyISAM 是非聚簇索引。聚簇索引的文件存放在主键索引的叶子节点上，因此 InnoDB 必须要有主键，通过主键索引效率很高。但是辅助索引需要两次查询，先查询到主键，然后再通过主键查询到数据。因此，主键不应该过大，因为主键太大，其他索引也都会很大。而 MyISAM 是非聚集索引，数据文件是分离的，索引保存的是数据文件的指针。主键索引和辅助索引是独立的。
- InnoDB 不保存表的具体行数，执行 select count(*) from table 时需要全表扫描。而 MyISAM 用一个变量保存了整个表的行数，执行上述语句时只需要读出该变量即可，速度很快；
- InnoDB 最小的锁粒度是行锁，MyISAM 最小的锁粒度是表锁。一个更新语句会锁住整张表，导致其他查询和更新都会被阻塞，因此并发访问受限。这也是 MySQL 将默认存储引擎从 MyISAM 变成 InnoDB 的重要原因之一；
![image](https://user-images.githubusercontent.com/107925483/230534925-7425ccb4-a3aa-441b-8e8e-d7ff87d839e2.png)
![image](https://user-images.githubusercontent.com/107925483/230535282-bf36d174-1072-4ac5-a130-a310ba007bb7.png)
#### 数据类型
![image](https://user-images.githubusercontent.com/107925483/230535413-03aad9d7-c1fe-459a-acc4-f4273fd4edf5.png)


